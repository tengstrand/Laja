== Type converters ==
Sometimes we want more than one way to populate an attribute. This can be achieved by adding a converter:
<pre>
package com.myproject.state;

public class PersonStateTemplate {
    int ssn;
    String givenName;
    String surname;

    int convertSsn(String ssn) {
        return Integer.valueOf(ssn);
    }
}
</pre>

This little trick allow us to select between ''int'' and ''String'' when giving the attribute ''ssn'':

<pre>
package com.myproject.behaviour;

public class Main {
    public static void main(String[] args) {
        Person ingmar = Person.ssn(123).givenName("Ingmar").surname("Bergman").asPerson();
        Person lars = Person.ssn("456").givenName("Lars").surname("von Trier").asPerson();

        System.out.println(ingmar);
        System.out.println(lars);
    }
}
</pre>

...gives the output:
<pre>
Person{ssn=123, givenName='Ingmar', surname='Bergman'}
Person{ssn=456, givenName='Lars', surname='von Trier'}
</pre>

The ''ssn'' is in both cases internally stored as ''int'' which is the type of the attribute.


[[CDD - State - Identity|< Back]]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[[CDD - State - State composition|Next >]]
