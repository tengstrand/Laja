In some situations we want to populate an attribute in different ways. This can be achieved by adding a converter:
<source>
package com.myproject.state;

public class PersonStateTemplate {
    int ssn;
    String givenName;
    String surname;

    int convertSsn(String ssn) {
        return Integer.valueOf(ssn);
    }
}
</source>

This little trick allow us to select between ''int'' and ''String'' when giving the attribute ''ssn'':

<source>
Person ingmar = Person.ssn(123).givenName("Ingmar").surname("Bergman").asPerson();
Person lars = Person.ssn("456").givenName("Lars").surname("von Trier").asPerson();

System.out.println(ingmar);
System.out.println(lars);
</source>

...gives the output:
<source>
Person{ssn=123, givenName='Ingmar', surname='Bergman'}
Person{ssn=456, givenName='Lars', surname='von Trier'}
</source>

The ''ssn'' is in both cases internally stored as ''int'' which is the type of the attribute.


[[Define state|< Back]]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[[State composition|Next >]]
